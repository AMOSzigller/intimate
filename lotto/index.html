<!DOCTYPE html>
<html lang="he">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>הגרלת הלוטו - אינטימיים</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #121212;
            color: #e0e0e0;
            text-align: center;
            padding: 20px;
        }
        h1 {
            color: #1a73e8;
            margin-bottom: 20px;
        }
        canvas {
            margin-top: 20px;
        }
        .details {
            font-size: 1.2em;
        }
        .countdown-label {
            font-size: 1.5em;
            margin: 10px 0;
        }
        .countdown {
            font-size: 3em;
            color: #4CAF50;
            margin: 20px 0;
        }
        .participate-button {
            display: inline-block;
            margin-top: 20px;
            padding: 15px 30px;
            background-color: #4CAF50;
            color: white;
            text-decoration: none;
            font-size: 1.2em;
            border-radius: 5px;
            transition: background-color 0.3s;
        }
        .participate-button:hover {
            background-color: #45a049;
        }
    </style>
</head>
<body>
    <h1>אינטימיים שולחים יחד לוטו</h1>
    <p class="details">עלות השתתפות: 120 ש"ח</p>
    <div class="countdown-label">:זמן לסיום ההרשמה</div>
    <div id="countdown" class="countdown"></div>
    <canvas id="pieChart" width="400" height="400"></canvas>
    <div class="details">
        <p>תאריך ההגרלה: 21 לדצמבר 2024 בשעה 23:00</p>
    </div>
    <a href="https://docs.google.com/forms/d/e/1FAIpQLSdXOrYR92HNwBBBDEMuPXd-1DmaeYgB3uPwm-PAlFvoenT0jA/viewform?usp=sharing" 
       target="_blank" class="participate-button">להשתתפות לחץ כאן</a>

    <script>
        const canvas = document.getElementById('pieChart');
        const ctx = canvas.getContext('2d');

        // נתונים של המשקיעים
        const investors = [
            { name: "בר", percentage: 20.28 },
            { name: "שגיא", percentage: 20.00 },
            { name: "רועי.ש", percentage: 20.00 },
            { name: "רועי.ב", percentage: 20.00 },
            { name: "יונגר", percentage: 19.72 },
        ];

        // פונקציה לציור גרף עוגה
        function drawPieChart(data) {
            const total = 100; // סה"כ אחוזים
            let startAngle = 0;

            // צבעים לעוגה
            const colors = ["#4CAF50", "#FF5722", "#2196F3", "#FFC107", "#9C27B0", "#607D8B"];

            data.forEach((investor, index) => {
                const sliceAngle = (investor.percentage / total) * 2 * Math.PI;

                // צייר פרוסת עוגה
                ctx.beginPath();
                ctx.moveTo(200, 200);
                ctx.arc(200, 200, 150, startAngle, startAngle + sliceAngle);
                ctx.closePath();

                // צבע פרוסה
                ctx.fillStyle = colors[index % colors.length];
                ctx.fill();

                // הוסף טקסט על הפרוסה
                const midAngle = startAngle + sliceAngle / 2;
                const textX = 200 + Math.cos(midAngle) * 100;
                const textY = 200 + Math.sin(midAngle) * 100;
                ctx.fillStyle = "#e0e0e0";
                ctx.font = "16px Arial";
                ctx.textAlign = "center";
                ctx.fillText(`${investor.name} (${investor.percentage}%)`, textX, textY);

                startAngle += sliceAngle;
            });
        }

        // קריאה לפונקציה עם הנתונים
        drawPieChart(investors);

        // טיימר לספירה לאחור
        const countdown = document.getElementById('countdown');
        const endDate = new Date('2024-12-20T23:00:00').getTime();

        function updateCountdown() {
            const now = new Date().getTime();
            const distance = endDate - now;

            if (distance <= 0) {
                countdown.textContent = '00:00:00:00';
                return;
            }

            const days = Math.floor(distance / (1000 * 60 * 60 * 24));
            const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((distance % (1000 * 60)) / 1000);

            countdown.textContent = `${days.toString().padStart(2, '0')}:${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
        }

        setInterval(updateCountdown, 1000);
        updateCountdown();
    </script>
</body>
</html>
