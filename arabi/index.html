<script type="text/javascript">
    // וקטור התשובות החדש
    // תשובה 0 = אינטימי (10 בביטים), כל השאר ערבי (00 בביטים)
    var answersVector = 0b000000000000000000000000000000000010; 

    var arrOptions = ["ערבי", "מזרחי", "אינטימי"]; // 3 אפשרויות בחירה
    var NUM_OF_OPTIONS = arrOptions.length;
    var NUM_OF_QUESTIONS = 18;
    var correctColor = "#89E897";
    var wrongColor = "#E88989";

    var wrongUnic = "&#10008;";
    var correctUnic = "&#10003;";

    function checkAnswers() {
        var curAns;
        var totalCorrect = 0;

        for (var i = 0; i < NUM_OF_QUESTIONS; i++) {
            curAns = $("input:radio[name='" + i + "']:checked").val();
            var correctAns = (parseInt(answersVector, 10) >> (i * 2)) & 0b11; // בודקים את 2 הביטים של כל תשובה

            if (curAns == undefined) 
                curAns = -1;

            if (curAns == correctAns) {
                $("#img" + i).css('background-color', correctColor);
                $("#imgTd" + i).append(correctUnic);
                $("#option" + i + "_" + curAns).css('background-color', correctColor);
                totalCorrect++;
            } else {
                $("#img" + i).css('background-color', wrongColor);
                $("#option" + i + "_" + correctAns).css('background-color', correctColor);
                $("#imgTd" + i).append(wrongUnic);
            }
        }

        $("#logo").fadeOut();
        window.scrollTo(0, 0);
        $("#logo").append("<span style='background-color: #89E897;'> פגעת ב-" + totalCorrect + " מתוך " + NUM_OF_QUESTIONS + "</span>");
        $("#logo").fadeIn();
    }

    function putRow(num) {
        var rowStr = "<tr><td id='imgTd" + num + "' class='imgTd' colspan='" + NUM_OF_OPTIONS + "'><img class='img' src='" + num + ".jpg' id='img" + num + "'></td></tr><tr class='answersTr'><td class='answersTd'>";
        for (var i = 0; i < NUM_OF_OPTIONS; i++) {
            rowStr += "<input type='radio' name='" + num + "' value='" + i + "'><span id ='option" + num + "_" + i + "' class='option'>" + arrOptions[i] + "</span>&nbsp;";
        }
        rowStr += "</td></tr>";

        $("#mainTable").append(rowStr);
    }

    function initTable() {
        for (var i = 0; i < NUM_OF_QUESTIONS; i++) {
            putRow(i);
        }
    }
</script>
